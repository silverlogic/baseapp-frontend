"use strict";(self.webpackChunk_baseapp_frontend_components=self.webpackChunk_baseapp_frontend_components||[]).push([[326],{"./__generated__/CommentsListWithQuery.graphql.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var v0,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12,v13,v14,node={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentsListWithQuery",selections:[{alias:"target",args:v0=[{kind:"Literal",name:"id",value:"test-id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CommentsList_comments"}],storageKey:'node(id:"test-id")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CommentsListWithQuery",selections:[{alias:"target",args:v0,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v1={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v2={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[v4={alias:null,args:null,concreteType:"CommentsCount",kind:"LinkedField",name:"commentsCount",plural:!1,selections:v3=[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null}],storageKey:null},{alias:null,args:v5=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"orderBy",value:"-is_pinned,-created"}],concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v2,{alias:null,args:null,kind:"ScalarField",name:"isPinned",storageKey:null},v6={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v2,v6,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:50},{kind:"Literal",name:"width",value:50}],concreteType:"File",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:"avatar(height:50,width:50)"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created",storageKey:null},v4,{alias:"canChange",args:[{kind:"Literal",name:"perm",value:"change"}],kind:"ScalarField",name:"hasPerm",storageKey:'hasPerm(perm:"change")'},{alias:"canDelete",args:[{kind:"Literal",name:"perm",value:"delete"}],kind:"ScalarField",name:"hasPerm",storageKey:'hasPerm(perm:"delete")'},{alias:"canReport",args:[{kind:"Literal",name:"perm",value:"report"}],kind:"ScalarField",name:"hasPerm",storageKey:'hasPerm(perm:"report")'},{alias:"canPin",args:[{kind:"Literal",name:"perm",value:"pin"}],kind:"ScalarField",name:"hasPerm",storageKey:'hasPerm(perm:"pin")'},v1,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionsCount",kind:"LinkedField",name:"reactionsCount",plural:!1,selections:v3,storageKey:null},{alias:null,args:null,concreteType:"Reaction",kind:"LinkedField",name:"myReaction",plural:!1,selections:[v2,{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null}],type:"ReactionsInterface",abstractKey:"__isReactionsInterface"},{kind:"TypeDiscriminator",abstractKey:"__isCommentsInterface"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}],storageKey:'comments(first:5,orderBy:"-is_pinned,-created")'},{alias:null,args:v5,filters:[],handle:"connection",key:"CommentsList_comments",kind:"LinkedHandle",name:"comments"}],type:"CommentsInterface",abstractKey:"__isCommentsInterface"}],storageKey:'node(id:"test-id")'}]},params:{cacheID:"eba3177159560ce677a33d0e4bfd216c",id:null,metadata:{relayTestingSelectionTypeInfo:{target:{enumValues:null,nullable:!0,plural:!1,type:"Node"},"target.__isCommentsInterface":v7={enumValues:null,nullable:!1,plural:!1,type:"String"},"target.__typename":v7,"target.comments":{enumValues:null,nullable:!0,plural:!1,type:"CommentConnection"},"target.comments.edges":{enumValues:null,nullable:!1,plural:!0,type:"CommentEdge"},"target.comments.edges.cursor":v7,"target.comments.edges.node":{enumValues:null,nullable:!0,plural:!1,type:"Comment"},"target.comments.edges.node.__isCommentsInterface":v7,"target.comments.edges.node.__isReactionsInterface":v7,"target.comments.edges.node.__typename":v7,"target.comments.edges.node.body":v8={enumValues:null,nullable:!0,plural:!1,type:"String"},"target.comments.edges.node.canChange":v9={enumValues:null,nullable:!0,plural:!1,type:"Boolean"},"target.comments.edges.node.canDelete":v9,"target.comments.edges.node.canPin":v9,"target.comments.edges.node.canReport":v9,"target.comments.edges.node.commentsCount":v10={enumValues:null,nullable:!1,plural:!1,type:"CommentsCount"},"target.comments.edges.node.commentsCount.total":v11={enumValues:null,nullable:!0,plural:!1,type:"Int"},"target.comments.edges.node.created":{enumValues:null,nullable:!1,plural:!1,type:"DateTime"},"target.comments.edges.node.id":v12={enumValues:null,nullable:!1,plural:!1,type:"ID"},"target.comments.edges.node.isPinned":v13={enumValues:null,nullable:!1,plural:!1,type:"Boolean"},"target.comments.edges.node.myReaction":{enumValues:null,nullable:!0,plural:!1,type:"Reaction"},"target.comments.edges.node.myReaction.id":v12,"target.comments.edges.node.myReaction.reactionType":{enumValues:["LIKE","DISLIKE"],nullable:!0,plural:!1,type:"ReactionTypes"},"target.comments.edges.node.pk":v14={enumValues:null,nullable:!1,plural:!1,type:"Int"},"target.comments.edges.node.reactionsCount":{enumValues:null,nullable:!0,plural:!1,type:"ReactionsCount"},"target.comments.edges.node.reactionsCount.total":v11,"target.comments.edges.node.user":{enumValues:null,nullable:!0,plural:!1,type:"User"},"target.comments.edges.node.user.avatar":{enumValues:null,nullable:!0,plural:!1,type:"File"},"target.comments.edges.node.user.avatar.url":v7,"target.comments.edges.node.user.fullName":v8,"target.comments.edges.node.user.id":v12,"target.comments.edges.node.user.pk":v14,"target.comments.pageInfo":{enumValues:null,nullable:!1,plural:!1,type:"PageInfo"},"target.comments.pageInfo.endCursor":v8,"target.comments.pageInfo.hasNextPage":v13,"target.commentsCount":v10,"target.commentsCount.total":v11,"target.id":v12}},name:"CommentsListWithQuery",operationKind:"query",text:'query CommentsListWithQuery {\n  target: node(id: "test-id") {\n    __typename\n    ...CommentsList_comments\n    id\n  }\n}\n\nfragment CommentItem_comment on Comment {\n  id\n  pk\n  body\n  isPinned\n  user {\n    id\n    pk\n    fullName\n    avatar(width: 50, height: 50) {\n      url\n    }\n  }\n  created\n  commentsCount {\n    total\n  }\n  canChange: hasPerm(perm: "change")\n  canDelete: hasPerm(perm: "delete")\n  canReport: hasPerm(perm: "report")\n  canPin: hasPerm(perm: "pin")\n  ...ReactionButton_target\n  ...CommentItem_target\n}\n\nfragment CommentItem_target on CommentsInterface {\n  __isCommentsInterface: __typename\n  id\n}\n\nfragment CommentsList_comments on CommentsInterface {\n  __isCommentsInterface: __typename\n  id\n  commentsCount {\n    total\n  }\n  comments(first: 5, orderBy: "-is_pinned,-created") {\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n    edges {\n      node {\n        id\n        isPinned\n        ...CommentItem_comment\n        __typename\n      }\n      cursor\n    }\n  }\n  ...CommentItem_target\n}\n\nfragment ReactionButton_target on ReactionsInterface {\n  __isReactionsInterface: __typename\n  id\n  reactionsCount {\n    total\n  }\n  myReaction {\n    id\n    reactionType\n  }\n}\n'}};node.hash="acb6e47e69c86ce2d6db47adc66589dc";const __WEBPACK_DEFAULT_EXPORT__=node},"./modules/social/CommentsList/__storybook__/stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultComments:()=>DefaultComments,default:()=>stories});var _CommentsListWithQuery,react_relay=__webpack_require__("../../node_modules/react-relay/index.js"),CommentsList=__webpack_require__("./modules/social/CommentsList/index.tsx"),CommentReplyProvider=__webpack_require__("./modules/social/context/comments/CommentReplyProvider/index.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var CommentsListWithQuery=function CommentsListWithQuery(props){var data=(0,react_relay.useLazyLoadQuery)(void 0!==_CommentsListWithQuery?_CommentsListWithQuery:_CommentsListWithQuery=__webpack_require__("./__generated__/CommentsListWithQuery.graphql.ts"),{});return(0,jsx_runtime.jsx)(CommentReplyProvider.A,{children:(0,jsx_runtime.jsx)(CommentsList.A,_objectSpread(_objectSpread({},props),{},{target:data.target,subscriptionsEnabled:!1}))})};const _storybook_CommentsListWithQuery=CommentsListWithQuery;CommentsListWithQuery.__docgenInfo={description:"",methods:[],displayName:"CommentsListWithQuery",props:{target:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  readonly ' $data'?: CommentsList_comments$data\n  readonly ' $fragmentSpreads': FragmentRefs<'CommentsList_comments'>\n}",signature:{properties:[{key:" $data",value:{name:"signature",type:"object",raw:"{\n  readonly comments:\n    | {\n        readonly edges: ReadonlyArray<\n          | {\n              readonly node:\n                | {\n                    readonly id: string\n                    readonly isPinned: boolean\n                    readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n                  }\n                | null\n                | undefined\n            }\n          | null\n          | undefined\n        >\n        readonly pageInfo: {\n          readonly endCursor: string | null | undefined\n          readonly hasNextPage: boolean\n        }\n      }\n    | null\n    | undefined\n  readonly commentsCount: {\n    readonly total: number | null | undefined\n  }\n  readonly id: string\n  readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_target'>\n  readonly ' $fragmentType': 'CommentsList_comments'\n}",signature:{properties:[{key:"comments",value:{name:"union",raw:"| {\n    readonly edges: ReadonlyArray<\n      | {\n          readonly node:\n            | {\n                readonly id: string\n                readonly isPinned: boolean\n                readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n              }\n            | null\n            | undefined\n        }\n      | null\n      | undefined\n    >\n    readonly pageInfo: {\n      readonly endCursor: string | null | undefined\n      readonly hasNextPage: boolean\n    }\n  }\n| null\n| undefined",elements:[{name:"signature",type:"object",raw:"{\n  readonly edges: ReadonlyArray<\n    | {\n        readonly node:\n          | {\n              readonly id: string\n              readonly isPinned: boolean\n              readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n            }\n          | null\n          | undefined\n      }\n    | null\n    | undefined\n  >\n  readonly pageInfo: {\n    readonly endCursor: string | null | undefined\n    readonly hasNextPage: boolean\n  }\n}",signature:{properties:[{key:"edges",value:{name:"ReadonlyArray",elements:[{name:"union",raw:"| {\n    readonly node:\n      | {\n          readonly id: string\n          readonly isPinned: boolean\n          readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n        }\n      | null\n      | undefined\n  }\n| null\n| undefined",elements:[{name:"signature",type:"object",raw:"{\n  readonly node:\n    | {\n        readonly id: string\n        readonly isPinned: boolean\n        readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n      }\n    | null\n    | undefined\n}",signature:{properties:[{key:"node",value:{name:"union",raw:"| {\n    readonly id: string\n    readonly isPinned: boolean\n    readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n  }\n| null\n| undefined",elements:[{name:"signature",type:"object",raw:"{\n  readonly id: string\n  readonly isPinned: boolean\n  readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n}",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"isPinned",value:{name:"boolean",required:!0}},{key:" $fragmentSpreads",value:{name:"FragmentRefs",elements:[{name:"literal",value:"'CommentItem_comment'"}],raw:"FragmentRefs<'CommentItem_comment'>",required:!0}}]}},{name:"null"},{name:"undefined"}],required:!0}}]}},{name:"null"},{name:"undefined"}]}],raw:"ReadonlyArray<\n  | {\n      readonly node:\n        | {\n            readonly id: string\n            readonly isPinned: boolean\n            readonly ' $fragmentSpreads': FragmentRefs<'CommentItem_comment'>\n          }\n        | null\n        | undefined\n    }\n  | null\n  | undefined\n>",required:!0}},{key:"pageInfo",value:{name:"signature",type:"object",raw:"{\n  readonly endCursor: string | null | undefined\n  readonly hasNextPage: boolean\n}",signature:{properties:[{key:"endCursor",value:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}],required:!0}},{key:"hasNextPage",value:{name:"boolean",required:!0}}]},required:!0}}]}},{name:"null"},{name:"undefined"}],required:!0}},{key:"commentsCount",value:{name:"signature",type:"object",raw:"{\n  readonly total: number | null | undefined\n}",signature:{properties:[{key:"total",value:{name:"union",raw:"number | null | undefined",elements:[{name:"number"},{name:"null"},{name:"undefined"}],required:!0}}]},required:!0}},{key:"id",value:{name:"string",required:!0}},{key:" $fragmentSpreads",value:{name:"FragmentRefs",elements:[{name:"literal",value:"'CommentItem_target'"}],raw:"FragmentRefs<'CommentItem_target'>",required:!0}},{key:" $fragmentType",value:{name:"literal",value:"'CommentsList_comments'",required:!0}}]},required:!1}},{key:" $fragmentSpreads",value:{name:"FragmentRefs",elements:[{name:"literal",value:"'CommentsList_comments'"}],raw:"FragmentRefs<'CommentsList_comments'>",required:!0}}]}},description:""},profileId:{required:!1,tsType:{name:"string"},description:""},subscriptionsEnabled:{required:!0,tsType:{name:"boolean"},description:""},onReplyClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},CommentItem:{required:!1,tsType:{name:"FC",elements:[{name:"CommentItemProps"}],raw:"FC<CommentItemProps>"},description:""},CommentItemProps:{required:!1,tsType:{name:"Partial",elements:[{name:"CommentItemProps"}],raw:"Partial<CommentItemProps>"},description:""},VirtuosoProps:{required:!1,tsType:{name:"Partial",elements:[{name:"VirtuosoProps",elements:[{name:"any"},{name:"any"}],raw:"VirtuosoProps<any, any>"}],raw:"Partial<VirtuosoProps<any, any>>"},description:""}}};const stories={title:"@baseapp-frontend | components/Social/CommentsList",component:_storybook_CommentsListWithQuery,tags:["autodocs"],argTypes:{target:{control:!1,description:"The key of the comments list fragment.",table:{type:{summary:"CommentsList_comments$key"}}},profileId:{control:!1,description:"ID of the profile.",table:{type:{summary:"string"}}},subscriptionsEnabled:{control:"boolean",description:"Whether subscriptions are enabled for real-time updates.",table:{readonly:!0,type:{summary:"boolean"}}},onReplyClick:{control:!1,description:"Callback when the reply is clicked.",table:{type:{summary:"() => void"}}},CommentItem:{control:!1,description:"Overrides the CommentItem component.",table:{type:{summary:"FC<CommentItemProps>"}}},CommentItemProps:{control:"object",description:"See CommentItem`s story for more details.",table:{type:{summary:"Partial<CommentItemProps>"}}},VirtuosoProps:{control:"object",description:"Props to pass to the Virtuoso component.",table:{type:{summary:"Partial<VirtuosoProps<any, any>>"}}}}};var DefaultComments={name:"Default CommentsList",parameters:{mockResolvers:{Node:function Node(){return{comments:{edges:[{node:{__typename:"Comment",id:"comment-1",pk:1,body:"This is a pinned comment.",isPinned:!0,created:"2024-04-11T17:08:58.505961+00:00",commentsCount:{total:2},canChange:!0,canDelete:!0,canReport:!0,canPin:!0,user:{id:"user-1",pk:1,fullName:"John Doe",avatar:{url:"https://nyc3.digitaloceanspaces.com/baseapp-production-storage/media/user-avatars/5/6/4/resized/50/50/185a04dfdaa512d218cf9b7a5097e3c9.png"}},reactionsCount:{total:2},myReaction:null}},{node:{__typename:"Comment",id:"comment-2",pk:2,body:"This is a regular comment.",isPinned:!1,created:"2024-04-21T19:18:58.505961+00:00",commentsCount:{total:1},canChange:!1,canDelete:!1,canReport:!0,canPin:!1,user:{id:"user-2",pk:2,fullName:"Jane Smith",avatar:{url:"https://nyc3.digitaloceanspaces.com/baseapp-production-storage/media/user-avatars/c/9/19/resized/50/50/cb95449a94688af33f6e9bb090cf2936.png"}},reactionsCount:{total:3},myReaction:{id:"UmVhY3Rpb246MTA0",reactionType:"LIKE"}}}],pageInfo:{endCursor:"cursor-2",hasNextPage:!1}}}}}}}}}]);