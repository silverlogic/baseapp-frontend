import { Meta } from '@storybook/addon-docs'

<Meta title="@baseapp-frontend | components/Comments/CommentsList" />

# Component Documentation

## CommentsList

- **Purpose**: A virtualized list component for displaying and managing comments, supporting infinite scroll and real-time updates through subscriptions.
- **Expected Behavior**: Renders a scrollable list of comments with support for nested replies, lazy loading of additional comments, and real-time updates when subscriptions are enabled.

## Use Cases

- **Current Usage**: Used in discussion threads, feedback sections, and any area requiring threaded comments with real-time updates.
- **Potential Usage**: Could be used in:
  - Social media feeds
  - Documentation systems with comments
  - Collaborative platforms
  - Review systems
  - Live chat interfaces
  - Forum applications

## Props

- **target** (Reference): Reference object for the comment thread target
- **subscriptionsEnabled** (boolean): Enables/disables real-time comment updates
- **onReplyClick** (function): Callback function triggered when reply button is clicked
- **CommentItem** (Component): Optional custom comment item component (defaults to DefaultCommentItem)
- **CommentItemProps** (object): Additional props to pass to CommentItem components
- **VirtuosoProps** (object): Props to customize the underlying Virtuoso list component

## Notes

- **Related Components**:
  - CommentItem: Individual comment display component
  - CommentsSubscription: Handles real-time updates
  - LoadingState: Displays loading status during data fetching

## Example Usage

```javascript
import { CommentsList } from '@baseapp-frontend/design-system'

const MyComponent = () => {
  const targetRef = useRef(null)
  const handleReplyClick = (commentId: string) => {
    console.log('Reply clicked for comment:', commentId)
  }
  return <CommentsList target={targetRef} subscriptionsEnabled={true} onReplyClick={handleReplyClick} />
}
export default MyComponent
```